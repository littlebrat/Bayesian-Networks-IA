########## SOLUTION ########## 
QUERY intelligence
EVIDENCE letter 1 sat 0 
QUERY_DIST 0 0.849 1 0.151 
 
########## STEPS ########## 
 
------------------------- ELIMINATE VARIABLE difficulty -------------------------
 
>>> RELEVANT TABLES
 
+-------+--------------+------------+-------------+
| grade | intelligence | difficulty | Probability |
+-------+--------------+------------+-------------+
|   1   |      0       |     0      |     0.3     |
|   1   |      0       |     1      |     0.05    |
|   1   |      1       |     0      |     0.9     |
|   1   |      1       |     1      |     0.5     |
|   2   |      0       |     0      |     0.4     |
|   2   |      0       |     1      |     0.25    |
|   2   |      1       |     0      |     0.08    |
|   2   |      1       |     1      |     0.3     |
|   3   |      0       |     0      |     0.3     |
|   3   |      0       |     1      |     0.7     |
|   3   |      1       |     0      |     0.02    |
|   3   |      1       |     1      |     0.2     |
+-------+--------------+------------+-------------+
 
+------------+-------------+
| difficulty | Probability |
+------------+-------------+
|     0      |     0.6     |
|     1      |     0.4     |
+------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+-------+------------+--------------+-------------+
| grade | difficulty | intelligence | Probability |
+-------+------------+--------------+-------------+
|   1   |     0      |      0       |     0.18    |
|   1   |     0      |      1       |     0.54    |
|   2   |     0      |      0       |     0.24    |
|   2   |     0      |      1       |    0.048    |
|   3   |     0      |      0       |     0.18    |
|   3   |     0      |      1       |    0.012    |
|   1   |     1      |      0       |     0.02    |
|   1   |     1      |      1       |     0.2     |
|   2   |     1      |      0       |     0.1     |
|   2   |     1      |      1       |     0.12    |
|   3   |     1      |      0       |     0.28    |
|   3   |     1      |      1       |     0.08    |
+-------+------------+--------------+-------------+
 
>>> TABLE AFTER SUM
+-------+--------------+-------------+
| grade | intelligence | Probability |
+-------+--------------+-------------+
|   1   |      0       |     0.2     |
|   1   |      1       |     0.74    |
|   2   |      0       |     0.34    |
|   2   |      1       |    0.168    |
|   3   |      0       |     0.46    |
|   3   |      1       |    0.092    |
+-------+--------------+-------------+
 
------------------------- ELIMINATE VARIABLE grade -------------------------
 
>>> RELEVANT TABLES
 
+--------+-------+-------------+
| letter | grade | Probability |
+--------+-------+-------------+
|   1    |   1   |     0.9     |
|   1    |   2   |     0.6     |
|   1    |   3   |     0.01    |
+--------+-------+-------------+
 
+-------+--------------+-------------+
| grade | intelligence | Probability |
+-------+--------------+-------------+
|   1   |      0       |     0.2     |
|   1   |      1       |     0.74    |
|   2   |      0       |     0.34    |
|   2   |      1       |    0.168    |
|   3   |      0       |     0.46    |
|   3   |      1       |    0.092    |
+-------+--------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+-------+--------+--------------+-------------+
| grade | letter | intelligence | Probability |
+-------+--------+--------------+-------------+
|   1   |   1    |      0       |     0.18    |
|   1   |   1    |      1       |    0.666    |
|   2   |   1    |      0       |    0.204    |
|   2   |   1    |      1       |    0.101    |
|   3   |   1    |      0       |    0.005    |
|   3   |   1    |      1       |    0.001    |
+-------+--------+--------------+-------------+
 
>>> TABLE AFTER SUM
+--------+--------------+-------------+
| letter | intelligence | Probability |
+--------+--------------+-------------+
|   1    |      0       |    0.389    |
|   1    |      1       |    0.768    |
+--------+--------------+-------------+
 
JOINT DISTRIBUTION 
+--------+-----+--------------+-------------+
| letter | sat | intelligence | Probability |
+--------+-----+--------------+-------------+
|   1    |  0  |      0       |    0.258    |
|   1    |  0  |      1       |    0.046    |
+--------+-----+--------------+-------------+
 
FINAL DISTRIBUTION NORMALIZED
+--------+-----+--------------+-------------+
| letter | sat | intelligence | Probability |
+--------+-----+--------------+-------------+
|   1    |  0  |      0       |    0.849    |
|   1    |  0  |      1       |    0.151    |
+--------+-----+--------------+-------------+
 

########## SOLUTION ########## 
QUERY letter
EVIDENCE 
QUERY_DIST 0 0.498 1 0.502 
 
########## STEPS ########## 
 
------------------------- ELIMINATE VARIABLE intelligence -------------------------
 
>>> RELEVANT TABLES
 
+--------------+-------------+
| intelligence | Probability |
+--------------+-------------+
|      0       |     0.7     |
|      1       |     0.3     |
+--------------+-------------+
 
+-----+--------------+-------------+
| sat | intelligence | Probability |
+-----+--------------+-------------+
|  0  |      0       |     0.95    |
|  0  |      1       |     0.2     |
|  1  |      0       |     0.05    |
|  1  |      1       |     0.8     |
+-----+--------------+-------------+
 
+-------+--------------+------------+-------------+
| grade | intelligence | difficulty | Probability |
+-------+--------------+------------+-------------+
|   1   |      0       |     0      |     0.3     |
|   1   |      0       |     1      |     0.05    |
|   1   |      1       |     0      |     0.9     |
|   1   |      1       |     1      |     0.5     |
|   2   |      0       |     0      |     0.4     |
|   2   |      0       |     1      |     0.25    |
|   2   |      1       |     0      |     0.08    |
|   2   |      1       |     1      |     0.3     |
|   3   |      0       |     0      |     0.3     |
|   3   |      0       |     1      |     0.7     |
|   3   |      1       |     0      |     0.02    |
|   3   |      1       |     1      |     0.2     |
+-------+--------------+------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------------+-----+-------+------------+-------------+
| intelligence | sat | grade | difficulty | Probability |
+--------------+-----+-------+------------+-------------+
|      0       |  0  |   1   |     0      |    0.199    |
|      0       |  1  |   1   |     0      |     0.01    |
|      0       |  0  |   1   |     1      |    0.033    |
|      0       |  1  |   1   |     1      |    0.002    |
|      1       |  0  |   1   |     0      |    0.054    |
|      1       |  1  |   1   |     0      |    0.216    |
|      1       |  0  |   1   |     1      |     0.03    |
|      1       |  1  |   1   |     1      |     0.12    |
|      0       |  0  |   2   |     0      |    0.266    |
|      0       |  1  |   2   |     0      |    0.014    |
|      0       |  0  |   2   |     1      |    0.166    |
|      0       |  1  |   2   |     1      |    0.009    |
|      1       |  0  |   2   |     0      |    0.005    |
|      1       |  1  |   2   |     0      |    0.019    |
|      1       |  0  |   2   |     1      |    0.018    |
|      1       |  1  |   2   |     1      |    0.072    |
|      0       |  0  |   3   |     0      |    0.199    |
|      0       |  1  |   3   |     0      |     0.01    |
|      0       |  0  |   3   |     1      |    0.465    |
|      0       |  1  |   3   |     1      |    0.024    |
|      1       |  0  |   3   |     0      |    0.001    |
|      1       |  1  |   3   |     0      |    0.005    |
|      1       |  0  |   3   |     1      |    0.012    |
|      1       |  1  |   3   |     1      |    0.048    |
+--------------+-----+-------+------------+-------------+
 
>>> TABLE AFTER SUM
+-----+-------+------------+-------------+
| sat | grade | difficulty | Probability |
+-----+-------+------------+-------------+
|  0  |   1   |     0      |    0.254    |
|  1  |   1   |     0      |    0.227    |
|  0  |   1   |     1      |    0.063    |
|  1  |   1   |     1      |    0.122    |
|  0  |   2   |     0      |    0.271    |
|  1  |   2   |     0      |    0.033    |
|  0  |   2   |     1      |    0.184    |
|  1  |   2   |     1      |    0.081    |
|  0  |   3   |     0      |    0.201    |
|  1  |   3   |     0      |    0.015    |
|  0  |   3   |     1      |    0.477    |
|  1  |   3   |     1      |    0.073    |
+-----+-------+------------+-------------+
 
------------------------- ELIMINATE VARIABLE grade -------------------------
 
>>> RELEVANT TABLES
 
+--------+-------+-------------+
| letter | grade | Probability |
+--------+-------+-------------+
|   0    |   1   |     0.1     |
|   0    |   2   |     0.4     |
|   0    |   3   |     0.99    |
|   1    |   1   |     0.9     |
|   1    |   2   |     0.6     |
|   1    |   3   |     0.01    |
+--------+-------+-------------+
 
+-----+-------+------------+-------------+
| sat | grade | difficulty | Probability |
+-----+-------+------------+-------------+
|  0  |   1   |     0      |    0.254    |
|  1  |   1   |     0      |    0.227    |
|  0  |   1   |     1      |    0.063    |
|  1  |   1   |     1      |    0.122    |
|  0  |   2   |     0      |    0.271    |
|  1  |   2   |     0      |    0.033    |
|  0  |   2   |     1      |    0.184    |
|  1  |   2   |     1      |    0.081    |
|  0  |   3   |     0      |    0.201    |
|  1  |   3   |     0      |    0.015    |
|  0  |   3   |     1      |    0.477    |
|  1  |   3   |     1      |    0.073    |
+-----+-------+------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------+-----+-------+------------+-------------+
| letter | sat | grade | difficulty | Probability |
+--------+-----+-------+------------+-------------+
|   0    |  0  |   1   |     0      |    0.025    |
|   1    |  0  |   1   |     0      |    0.228    |
|   0    |  1  |   1   |     0      |    0.023    |
|   1    |  1  |   1   |     0      |    0.204    |
|   0    |  0  |   1   |     1      |    0.006    |
|   1    |  0  |   1   |     1      |    0.057    |
|   0    |  1  |   1   |     1      |    0.012    |
|   1    |  1  |   1   |     1      |     0.11    |
|   0    |  0  |   2   |     0      |    0.108    |
|   1    |  0  |   2   |     0      |    0.162    |
|   0    |  1  |   2   |     0      |    0.013    |
|   1    |  1  |   2   |     0      |     0.02    |
|   0    |  0  |   2   |     1      |    0.074    |
|   1    |  0  |   2   |     1      |    0.111    |
|   0    |  1  |   2   |     1      |    0.032    |
|   1    |  1  |   2   |     1      |    0.048    |
|   0    |  0  |   3   |     0      |    0.199    |
|   1    |  0  |   3   |     0      |    0.002    |
|   0    |  1  |   3   |     0      |    0.015    |
|   1    |  1  |   3   |     0      |     0.0     |
|   0    |  0  |   3   |     1      |    0.473    |
|   1    |  0  |   3   |     1      |    0.005    |
|   0    |  1  |   3   |     1      |    0.072    |
|   1    |  1  |   3   |     1      |    0.001    |
+--------+-----+-------+------------+-------------+
 
>>> TABLE AFTER SUM
+--------+-----+------------+-------------+
| letter | sat | difficulty | Probability |
+--------+-----+------------+-------------+
|   0    |  0  |     0      |    0.332    |
|   1    |  0  |     0      |    0.393    |
|   0    |  1  |     0      |    0.051    |
|   1    |  1  |     0      |    0.224    |
|   0    |  0  |     1      |    0.553    |
|   1    |  0  |     1      |    0.172    |
|   0    |  1  |     1      |    0.116    |
|   1    |  1  |     1      |    0.159    |
+--------+-----+------------+-------------+
 
------------------------- ELIMINATE VARIABLE difficulty -------------------------
 
>>> RELEVANT TABLES
 
+------------+-------------+
| difficulty | Probability |
+------------+-------------+
|     0      |     0.6     |
|     1      |     0.4     |
+------------+-------------+
 
+--------+-----+------------+-------------+
| letter | sat | difficulty | Probability |
+--------+-----+------------+-------------+
|   0    |  0  |     0      |    0.332    |
|   1    |  0  |     0      |    0.393    |
|   0    |  1  |     0      |    0.051    |
|   1    |  1  |     0      |    0.224    |
|   0    |  0  |     1      |    0.553    |
|   1    |  0  |     1      |    0.172    |
|   0    |  1  |     1      |    0.116    |
|   1    |  1  |     1      |    0.159    |
+--------+-----+------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------+-----+------------+-------------+
| letter | sat | difficulty | Probability |
+--------+-----+------------+-------------+
|   0    |  0  |     0      |    0.199    |
|   1    |  0  |     0      |    0.236    |
|   0    |  1  |     0      |    0.031    |
|   1    |  1  |     0      |    0.134    |
|   0    |  0  |     1      |    0.221    |
|   1    |  0  |     1      |    0.069    |
|   0    |  1  |     1      |    0.046    |
|   1    |  1  |     1      |    0.064    |
+--------+-----+------------+-------------+
 
>>> TABLE AFTER SUM
+--------+-----+-------------+
| letter | sat | Probability |
+--------+-----+-------------+
|   0    |  0  |    0.421    |
|   1    |  0  |    0.304    |
|   0    |  1  |    0.077    |
|   1    |  1  |    0.198    |
+--------+-----+-------------+
 
------------------------- ELIMINATE VARIABLE sat -------------------------
 
>>> RELEVANT TABLES
 
+--------+-----+-------------+
| letter | sat | Probability |
+--------+-----+-------------+
|   0    |  0  |    0.421    |
|   1    |  0  |    0.304    |
|   0    |  1  |    0.077    |
|   1    |  1  |    0.198    |
+--------+-----+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------+-----+-------------+
| letter | sat | Probability |
+--------+-----+-------------+
|   0    |  0  |    0.421    |
|   1    |  0  |    0.304    |
|   0    |  1  |    0.077    |
|   1    |  1  |    0.198    |
+--------+-----+-------------+
 
>>> TABLE AFTER SUM
+--------+-------------+
| letter | Probability |
+--------+-------------+
|   0    |    0.498    |
|   1    |    0.502    |
+--------+-------------+
 
JOINT DISTRIBUTION 
+--------+-------------+
| letter | Probability |
+--------+-------------+
|   0    |    0.498    |
|   1    |    0.502    |
+--------+-------------+
 
FINAL DISTRIBUTION NORMALIZED
+--------+-------------+
| letter | Probability |
+--------+-------------+
|   0    |    0.498    |
|   1    |    0.502    |
+--------+-------------+
 

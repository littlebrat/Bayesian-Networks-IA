########## SOLUTION ########## 
QUERY difficulty
EVIDENCE sat 0 
QUERY_DIST 0 0.6 1 0.4 
 
########## STEPS ########## 
 
------------------------- ELIMINATE VARIABLE intelligence -------------------------
 
>>> RELEVANT TABLES
 
+--------------+-------------+
| intelligence | Probability |
+--------------+-------------+
|      0       |     0.7     |
|      1       |     0.3     |
+--------------+-------------+
 
+-------+--------------+------------+-------------+
| grade | intelligence | difficulty | Probability |
+-------+--------------+------------+-------------+
|   1   |      0       |     0      |     0.3     |
|   1   |      0       |     1      |     0.05    |
|   1   |      1       |     0      |     0.9     |
|   1   |      1       |     1      |     0.5     |
|   2   |      0       |     0      |     0.4     |
|   2   |      0       |     1      |     0.25    |
|   2   |      1       |     0      |     0.08    |
|   2   |      1       |     1      |     0.3     |
|   3   |      0       |     0      |     0.3     |
|   3   |      0       |     1      |     0.7     |
|   3   |      1       |     0      |     0.02    |
|   3   |      1       |     1      |     0.2     |
+-------+--------------+------------+-------------+
 
+-----+--------------+-------------+
| sat | intelligence | Probability |
+-----+--------------+-------------+
|  0  |      0       |     0.95    |
|  0  |      1       |     0.2     |
+-----+--------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+------------+-------+-----+--------------+-------------+
| difficulty | grade | sat | intelligence | Probability |
+------------+-------+-----+--------------+-------------+
|     0      |   1   |  0  |      0       |    0.199    |
|     1      |   1   |  0  |      0       |    0.033    |
|     0      |   2   |  0  |      0       |    0.266    |
|     1      |   2   |  0  |      0       |    0.166    |
|     0      |   3   |  0  |      0       |    0.199    |
|     1      |   3   |  0  |      0       |    0.465    |
|     0      |   1   |  0  |      1       |    0.054    |
|     1      |   1   |  0  |      1       |     0.03    |
|     0      |   2   |  0  |      1       |    0.005    |
|     1      |   2   |  0  |      1       |    0.018    |
|     0      |   3   |  0  |      1       |    0.001    |
|     1      |   3   |  0  |      1       |    0.012    |
+------------+-------+-----+--------------+-------------+
 
>>> TABLE AFTER SUM
+------------+-------+-----+-------------+
| difficulty | grade | sat | Probability |
+------------+-------+-----+-------------+
|     0      |   1   |  0  |    0.254    |
|     1      |   1   |  0  |    0.063    |
|     0      |   2   |  0  |    0.271    |
|     1      |   2   |  0  |    0.184    |
|     0      |   3   |  0  |    0.201    |
|     1      |   3   |  0  |    0.477    |
+------------+-------+-----+-------------+
 
------------------------- ELIMINATE VARIABLE grade -------------------------
 
>>> RELEVANT TABLES
 
+--------+-------+-------------+
| letter | grade | Probability |
+--------+-------+-------------+
|   0    |   1   |     0.1     |
|   0    |   2   |     0.4     |
|   0    |   3   |     0.99    |
|   1    |   1   |     0.9     |
|   1    |   2   |     0.6     |
|   1    |   3   |     0.01    |
+--------+-------+-------------+
 
+------------+-------+-----+-------------+
| difficulty | grade | sat | Probability |
+------------+-------+-----+-------------+
|     0      |   1   |  0  |    0.254    |
|     1      |   1   |  0  |    0.063    |
|     0      |   2   |  0  |    0.271    |
|     1      |   2   |  0  |    0.184    |
|     0      |   3   |  0  |    0.201    |
|     1      |   3   |  0  |    0.477    |
+------------+-------+-----+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------+-------+-----+------------+-------------+
| letter | grade | sat | difficulty | Probability |
+--------+-------+-----+------------+-------------+
|   0    |   1   |  0  |     0      |    0.025    |
|   1    |   1   |  0  |     0      |    0.228    |
|   0    |   1   |  0  |     1      |    0.006    |
|   1    |   1   |  0  |     1      |    0.057    |
|   0    |   2   |  0  |     0      |    0.108    |
|   1    |   2   |  0  |     0      |    0.162    |
|   0    |   2   |  0  |     1      |    0.074    |
|   1    |   2   |  0  |     1      |    0.111    |
|   0    |   3   |  0  |     0      |    0.199    |
|   1    |   3   |  0  |     0      |    0.002    |
|   0    |   3   |  0  |     1      |    0.473    |
|   1    |   3   |  0  |     1      |    0.005    |
+--------+-------+-----+------------+-------------+
 
>>> TABLE AFTER SUM
+--------+-----+------------+-------------+
| letter | sat | difficulty | Probability |
+--------+-----+------------+-------------+
|   0    |  0  |     0      |    0.332    |
|   1    |  0  |     0      |    0.393    |
|   0    |  0  |     1      |    0.553    |
|   1    |  0  |     1      |    0.172    |
+--------+-----+------------+-------------+
 
------------------------- ELIMINATE VARIABLE letter -------------------------
 
>>> RELEVANT TABLES
 
+--------+-----+------------+-------------+
| letter | sat | difficulty | Probability |
+--------+-----+------------+-------------+
|   0    |  0  |     0      |    0.332    |
|   1    |  0  |     0      |    0.393    |
|   0    |  0  |     1      |    0.553    |
|   1    |  0  |     1      |    0.172    |
+--------+-----+------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------+-----+------------+-------------+
| letter | sat | difficulty | Probability |
+--------+-----+------------+-------------+
|   0    |  0  |     0      |    0.332    |
|   1    |  0  |     0      |    0.393    |
|   0    |  0  |     1      |    0.553    |
|   1    |  0  |     1      |    0.172    |
+--------+-----+------------+-------------+
 
>>> TABLE AFTER SUM
+-----+------------+-------------+
| sat | difficulty | Probability |
+-----+------------+-------------+
|  0  |     0      |    0.725    |
|  0  |     1      |    0.725    |
+-----+------------+-------------+
 
JOINT DISTRIBUTION 
+-----+------------+-------------+
| sat | difficulty | Probability |
+-----+------------+-------------+
|  0  |     0      |    0.435    |
|  0  |     1      |     0.29    |
+-----+------------+-------------+
 
FINAL DISTRIBUTION NORMALIZED
+-----+------------+-------------+
| sat | difficulty | Probability |
+-----+------------+-------------+
|  0  |     0      |     0.6     |
|  0  |     1      |     0.4     |
+-----+------------+-------------+
 

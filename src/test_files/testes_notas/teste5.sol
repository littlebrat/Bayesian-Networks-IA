########## SOLUTION ########## 
QUERY sat
EVIDENCE 
QUERY_DIST 0 0.725 1 0.275 
 
########## STEPS ########## 
 
------------------------- ELIMINATE VARIABLE grade -------------------------
 
>>> RELEVANT TABLES
 
+--------+-------+-------------+
| letter | grade | Probability |
+--------+-------+-------------+
|   0    |   1   |     0.1     |
|   0    |   2   |     0.4     |
|   0    |   3   |     0.99    |
|   1    |   1   |     0.9     |
|   1    |   2   |     0.6     |
|   1    |   3   |     0.01    |
+--------+-------+-------------+
 
+-------+--------------+------------+-------------+
| grade | intelligence | difficulty | Probability |
+-------+--------------+------------+-------------+
|   1   |      0       |     0      |     0.3     |
|   1   |      0       |     1      |     0.05    |
|   1   |      1       |     0      |     0.9     |
|   1   |      1       |     1      |     0.5     |
|   2   |      0       |     0      |     0.4     |
|   2   |      0       |     1      |     0.25    |
|   2   |      1       |     0      |     0.08    |
|   2   |      1       |     1      |     0.3     |
|   3   |      0       |     0      |     0.3     |
|   3   |      0       |     1      |     0.7     |
|   3   |      1       |     0      |     0.02    |
|   3   |      1       |     1      |     0.2     |
+-------+--------------+------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------+------------+-------+--------------+-------------+
| letter | difficulty | grade | intelligence | Probability |
+--------+------------+-------+--------------+-------------+
|   0    |     0      |   1   |      0       |     0.03    |
|   1    |     0      |   1   |      0       |     0.27    |
|   0    |     1      |   1   |      0       |    0.005    |
|   1    |     1      |   1   |      0       |    0.045    |
|   0    |     0      |   1   |      1       |     0.09    |
|   1    |     0      |   1   |      1       |     0.81    |
|   0    |     1      |   1   |      1       |     0.05    |
|   1    |     1      |   1   |      1       |     0.45    |
|   0    |     0      |   2   |      0       |     0.16    |
|   1    |     0      |   2   |      0       |     0.24    |
|   0    |     1      |   2   |      0       |     0.1     |
|   1    |     1      |   2   |      0       |     0.15    |
|   0    |     0      |   2   |      1       |    0.032    |
|   1    |     0      |   2   |      1       |    0.048    |
|   0    |     1      |   2   |      1       |     0.12    |
|   1    |     1      |   2   |      1       |     0.18    |
|   0    |     0      |   3   |      0       |    0.297    |
|   1    |     0      |   3   |      0       |    0.003    |
|   0    |     1      |   3   |      0       |    0.693    |
|   1    |     1      |   3   |      0       |    0.007    |
|   0    |     0      |   3   |      1       |     0.02    |
|   1    |     0      |   3   |      1       |     0.0     |
|   0    |     1      |   3   |      1       |    0.198    |
|   1    |     1      |   3   |      1       |    0.002    |
+--------+------------+-------+--------------+-------------+
 
>>> TABLE AFTER SUM
+--------+------------+--------------+-------------+
| letter | difficulty | intelligence | Probability |
+--------+------------+--------------+-------------+
|   0    |     0      |      0       |    0.487    |
|   1    |     0      |      0       |    0.513    |
|   0    |     1      |      0       |    0.798    |
|   1    |     1      |      0       |    0.202    |
|   0    |     0      |      1       |    0.142    |
|   1    |     0      |      1       |    0.858    |
|   0    |     1      |      1       |    0.368    |
|   1    |     1      |      1       |    0.632    |
+--------+------------+--------------+-------------+
 
------------------------- ELIMINATE VARIABLE letter -------------------------
 
>>> RELEVANT TABLES
 
+--------+------------+--------------+-------------+
| letter | difficulty | intelligence | Probability |
+--------+------------+--------------+-------------+
|   0    |     0      |      0       |    0.487    |
|   1    |     0      |      0       |    0.513    |
|   0    |     1      |      0       |    0.798    |
|   1    |     1      |      0       |    0.202    |
|   0    |     0      |      1       |    0.142    |
|   1    |     0      |      1       |    0.858    |
|   0    |     1      |      1       |    0.368    |
|   1    |     1      |      1       |    0.632    |
+--------+------------+--------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------+------------+--------------+-------------+
| letter | difficulty | intelligence | Probability |
+--------+------------+--------------+-------------+
|   0    |     0      |      0       |    0.487    |
|   1    |     0      |      0       |    0.513    |
|   0    |     1      |      0       |    0.798    |
|   1    |     1      |      0       |    0.202    |
|   0    |     0      |      1       |    0.142    |
|   1    |     0      |      1       |    0.858    |
|   0    |     1      |      1       |    0.368    |
|   1    |     1      |      1       |    0.632    |
+--------+------------+--------------+-------------+
 
>>> TABLE AFTER SUM
+------------+--------------+-------------+
| difficulty | intelligence | Probability |
+------------+--------------+-------------+
|     0      |      0       |     1.0     |
|     1      |      0       |     1.0     |
|     0      |      1       |     1.0     |
|     1      |      1       |     1.0     |
+------------+--------------+-------------+
 
------------------------- ELIMINATE VARIABLE difficulty -------------------------
 
>>> RELEVANT TABLES
 
+------------+-------------+
| difficulty | Probability |
+------------+-------------+
|     0      |     0.6     |
|     1      |     0.4     |
+------------+-------------+
 
+------------+--------------+-------------+
| difficulty | intelligence | Probability |
+------------+--------------+-------------+
|     0      |      0       |     1.0     |
|     1      |      0       |     1.0     |
|     0      |      1       |     1.0     |
|     1      |      1       |     1.0     |
+------------+--------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+------------+--------------+-------------+
| difficulty | intelligence | Probability |
+------------+--------------+-------------+
|     0      |      0       |     0.6     |
|     1      |      0       |     0.4     |
|     0      |      1       |     0.6     |
|     1      |      1       |     0.4     |
+------------+--------------+-------------+
 
>>> TABLE AFTER SUM
+--------------+-------------+
| intelligence | Probability |
+--------------+-------------+
|      0       |     1.0     |
|      1       |     1.0     |
+--------------+-------------+
 
------------------------- ELIMINATE VARIABLE intelligence -------------------------
 
>>> RELEVANT TABLES
 
+-----+--------------+-------------+
| sat | intelligence | Probability |
+-----+--------------+-------------+
|  0  |      0       |     0.95    |
|  0  |      1       |     0.2     |
|  1  |      0       |     0.05    |
|  1  |      1       |     0.8     |
+-----+--------------+-------------+
 
+--------------+-------------+
| intelligence | Probability |
+--------------+-------------+
|      0       |     0.7     |
|      1       |     0.3     |
+--------------+-------------+
 
+--------------+-------------+
| intelligence | Probability |
+--------------+-------------+
|      0       |     1.0     |
|      1       |     1.0     |
+--------------+-------------+
 
>>> TABLE AFTER MULTIPLICATION
+--------------+-----+-------------+
| intelligence | sat | Probability |
+--------------+-----+-------------+
|      0       |  0  |    0.665    |
|      0       |  1  |    0.035    |
|      1       |  0  |     0.06    |
|      1       |  1  |     0.24    |
+--------------+-----+-------------+
 
>>> TABLE AFTER SUM
+-----+-------------+
| sat | Probability |
+-----+-------------+
|  0  |    0.725    |
|  1  |    0.275    |
+-----+-------------+
 
JOINT DISTRIBUTION 
+-----+-------------+
| sat | Probability |
+-----+-------------+
|  0  |    0.725    |
|  1  |    0.275    |
+-----+-------------+
 
FINAL DISTRIBUTION NORMALIZED
+-----+-------------+
| sat | Probability |
+-----+-------------+
|  0  |    0.725    |
|  1  |    0.275    |
+-----+-------------+
 
